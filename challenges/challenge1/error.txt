DEBUG: cli.knack.cli: Command arguments: ['deployment', 'group', 'create', '--resource-group', 'itsarag2', '--template-file', 'main.bicep', '--parameters', 'aiHubName=aiHubDoero2', '--debug']
DEBUG: cli.knack.cli: __init__ debug log:
Cannot enable color.
DEBUG: cli.knack.cli: Event: Cli.PreExecute []
DEBUG: cli.knack.cli: Event: CommandParser.OnGlobalArgumentsCreate [<function CLILogging.on_global_arguments at 0x7613a13e37e0>, <function OutputProducer.on_global_arguments at 0x7613a112a7a0>, <function CLIQuery.on_global_arguments at 0x7613a116fce0>]
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPreCommandTableCreate []
DEBUG: cli.azure.cli.core: Modules found from index for 'deployment': ['azure.cli.command_modules.resource']
DEBUG: cli.azure.cli.core: Loading command modules:
DEBUG: cli.azure.cli.core: Name                  Load Time    Groups  Commands
DEBUG: cli.azure.cli.core: resource                  0.137        52       232
DEBUG: cli.azure.cli.core: Total (1)                 0.137        52       232
DEBUG: cli.azure.cli.core: Loaded 52 groups, 232 commands.
DEBUG: cli.azure.cli.core: Found a match in the command table.
DEBUG: cli.azure.cli.core: Raw command  : deployment group create
DEBUG: cli.azure.cli.core: Command table: deployment group create
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPreCommandTableTruncate [<function AzCliLogging.init_command_file_logging at 0x7613a036bf60>]
DEBUG: cli.azure.cli.core.azlogging: metadata file logging enabled - writing logs to '/home/vscode/.azure/commands/2025-05-22.16-57-53.deployment_group_create.7358.log'.
INFO: az_command_data_logger: command args: deployment group create --resource-group {} --template-file {} --parameters {} --debug
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPreArgumentLoad [<function register_global_subscription_argument.<locals>.add_subscription_parameter at 0x7613a03c8540>]
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPostArgumentLoad []
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPostCommandTableCreate [<function register_ids_argument.<locals>.add_ids_arguments at 0x7613a03cad40>, <function register_cache_arguments.<locals>.add_cache_arguments at 0x7613a03cae80>, <function register_upcoming_breaking_change_info.<locals>.update_breaking_change_info at 0x7613a03caf20>]
DEBUG: cli.knack.cli: Event: CommandInvoker.OnCommandTableLoaded []
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPreParseArgs []
DEBUG: cli.knack.cli: Event: CommandInvoker.OnPostParseArgs [<function OutputProducer.handle_output_argument at 0x7613a112a840>, <function CLIQuery.handle_query_parameter at 0x7613a116fd80>, <function register_ids_argument.<locals>.parse_ids_arguments at 0x7613a03cade0>]
DEBUG: cli.azure.cli.command_modules.resource._bicep: Current value of "use_binary_from_path": if_found_in_ci.
DEBUG: cli.azure.cli.command_modules.resource._bicep: Bicep CLI installation path: /home/vscode/.azure/bin/bicep
DEBUG: cli.azure.cli.command_modules.resource._bicep: Bicep CLI installed: True.
WARNING: cli.azure.cli.command_modules.resource._bicep: A new Bicep release is available: v0.35.1. Upgrade now by running "az bicep upgrade".
DEBUG: cli.azure.cli.core.util: invalid syntax (<unknown>, line 1)
DEBUG: cli.azure.cli.core.commands.client_factory: Getting management service client client_type=ResourceManagementClient
DEBUG: cli.azure.cli.core.auth.persistence: build_persistence: location='/home/vscode/.azure/msal_token_cache.json', encrypt=False
DEBUG: cli.azure.cli.core.auth.binary_cache: load: /home/vscode/.azure/msal_http_cache.bin
DEBUG: urllib3.util.retry: Converted retries value: 1 -> Retry(total=1, connect=None, read=None, redirect=None, status=None)
DEBUG: msal.authority: Initializing with Entra authority: https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c
DEBUG: msal.authority: openid_config("https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/v2.0/.well-known/openid-configuration") = {'token_endpoint': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/oauth2/v2.0/token', 'token_endpoint_auth_methods_supported': ['client_secret_post', 'private_key_jwt', 'client_secret_basic'], 'jwks_uri': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/discovery/v2.0/keys', 'response_modes_supported': ['query', 'fragment', 'form_post'], 'subject_types_supported': ['pairwise'], 'id_token_signing_alg_values_supported': ['RS256'], 'response_types_supported': ['code', 'id_token', 'code id_token', 'id_token token'], 'scopes_supported': ['openid', 'profile', 'email', 'offline_access'], 'issuer': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/v2.0', 'request_uri_parameter_supported': False, 'userinfo_endpoint': 'https://graph.microsoft.com/oidc/userinfo', 'authorization_endpoint': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/oauth2/v2.0/authorize', 'device_authorization_endpoint': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/oauth2/v2.0/devicecode', 'http_logout_supported': True, 'frontchannel_logout_supported': True, 'end_session_endpoint': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/oauth2/v2.0/logout', 'claims_supported': ['sub', 'iss', 'cloud_instance_name', 'cloud_instance_host_name', 'cloud_graph_host_name', 'msgraph_host', 'aud', 'exp', 'iat', 'auth_time', 'acr', 'nonce', 'preferred_username', 'name', 'tid', 'ver', 'at_hash', 'c_hash', 'email'], 'kerberos_endpoint': 'https://login.microsoftonline.com/b2436a1a-9d4a-49c3-b1c1-f68e89409b1c/kerberos', 'tenant_region_scope': 'EU', 'cloud_instance_name': 'microsoftonline.com', 'cloud_graph_host_name': 'graph.windows.net', 'msgraph_host': 'graph.microsoft.com', 'rbac_url': 'https://pas.windows.net'}
DEBUG: msal.application: Broker enabled? None
DEBUG: cli.azure.cli.core.auth.credential_adaptor: CredentialAdaptor.get_token_info: scopes=('https://management.core.windows.net//.default',), options={}
DEBUG: cli.azure.cli.core.auth.msal_credentials: UserCredential.acquire_token: scopes=['https://management.core.windows.net//.default'], claims_challenge=None, kwargs={}
DEBUG: msal.application: Cache hit an AT
DEBUG: msal.telemetry: Generate or reuse correlation_id: 6c0d4326-a191-46ee-b992-d196521dbc52
DEBUG: cli.azure.cli.core.sdk.policies: Request URL: 'https://management.azure.com/subscriptions/3951571d-4b73-46d7-b89e-84c2821cb8c5/resourcegroups/itsarag2/providers/Microsoft.Resources/deployments/main/validate?api-version=2022-09-01'
DEBUG: cli.azure.cli.core.sdk.policies: Request method: 'POST'
DEBUG: cli.azure.cli.core.sdk.policies: Request headers:
DEBUG: cli.azure.cli.core.sdk.policies:     'Content-Type': 'application/json'
DEBUG: cli.azure.cli.core.sdk.policies:     'Content-Length': '35533'
DEBUG: cli.azure.cli.core.sdk.policies:     'Accept': 'application/json'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-client-request-id': 'e6c84c44-372d-11f0-9f72-6045bd88534a'
DEBUG: cli.azure.cli.core.sdk.policies:     'CommandName': 'deployment group create'
DEBUG: cli.azure.cli.core.sdk.policies:     'ParameterSetName': '--resource-group --template-file --parameters --debug'
DEBUG: cli.azure.cli.core.sdk.policies:     'User-Agent': 'AZURECLI/2.73.0 (DEB) azsdk-python-core/1.31.0 Python/3.12.8 (Linux-6.8.0-1027-azure-x86_64-with-glibc2.36)'
DEBUG: cli.azure.cli.core.sdk.policies:     'Authorization': '*****'
DEBUG: cli.azure.cli.core.sdk.policies: Request body:
DEBUG: cli.azure.cli.core.sdk.policies: {"properties": {"template": "{\n  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n  \"contentVersion\": \"1.0.0.0\",\n  \"metadata\": {\n    \"_generator\": {\n      \"name\": \"bicep\",\n      \"version\": \"0.33.93.31351\",\n      \"templateHash\": \"13463600158503538400\"\n    }\n  },\n  \"parameters\": {\n    \"aiHubName\": {\n      \"type\": \"string\",\n      \"defaultValue\": \"itrag\",\n      \"minLength\": 2,\n      \"maxLength\": 12,\n      \"metadata\": {\n        \"description\": \"Name for the AI resource and used to derive name of dependent resources.\"\n      }\n    },\n    \"aiHubFriendlyName\": {\n      \"type\": \"string\",\n      \"defaultValue\": \"ITSRAG Hackathon\",\n      \"metadata\": {\n        \"description\": \"Friendly name for your Azure AI resource\"\n      }\n    },\n    \"aiHubDescription\": {\n      \"type\": \"string\",\n      \"defaultValue\": \"ITSRAG Hackathon\",\n      \"metadata\": {\n        \"description\": \"Description of your Azure AI resource dispayed in AI Foundry\"\n      }\n    },\n    \"location\": {\n      \"type\": \"string\",\n      \"defaultValue\": \"[resourceGroup().location]\",\n      \"metadata\": {\n        \"description\": \"Azure region used for the deployment of all resources.\"\n      }\n    },\n    \"tags\": {\n      \"type\": \"object\",\n      \"defaultValue\": {},\n      \"metadata\": {\n        \"description\": \"Set of tags to apply to all resources.\"\n      }\n    },\n    \"administratorLogin\": {\n      \"type\": \"string\",\n      \"defaultValue\": \"azureadmin\",\n      \"metadata\": {\n        \"description\": \"The administrator username of the SQL logical server.\"\n      }\n    },\n    \"administratorLoginPassword\": {\n      \"type\": \"securestring\",\n      \"metadata\": {\n        \"description\": \"The administrator password of the SQL logical server.\"\n      }\n    }\n  },\n  \"variables\": {\n    \"name\": \"[toLower(format('{0}', parameters('aiHubName')))]\",\n    \"uniqueSuffix\": \"[substring(uniqueString(resourceGroup().id), 0, 4)]\"\n  },\n  \"resources\": [\n    {\n      \"type\": \"Microsoft.Resources/deployments\",\n      \"apiVersion\": \"2022-09-01\",\n      \"name\": \"[format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))]\",\n      \"properties\": {\n        \"expressionEvaluationOptions\": {\n          \"scope\": \"inner\"\n        },\n        \"mode\": \"Incremental\",\n        \"parameters\": {\n          \"location\": {\n            \"value\": \"[parameters('location')]\"\n          },\n          \"storageName\": {\n            \"value\": \"[format('st{0}{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"keyvaultName\": {\n            \"value\": \"[format('kv-{0}-{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"applicationInsightsName\": {\n            \"value\": \"[format('appi-{0}-{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"containerRegistryName\": {\n            \"value\": \"[format('cr{0}{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"aiServicesName\": {\n            \"value\": \"[format('ais{0}{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"logAnalyticsWorkspaceName\": {\n            \"value\": \"[format('log-{0}-{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"tags\": {\n            \"value\": \"[parameters('tags')]\"\n          }\n        },\n        \"template\": {\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n          \"contentVersion\": \"1.0.0.0\",\n          \"metadata\": {\n            \"_generator\": {\n              \"name\": \"bicep\",\n              \"version\": \"0.33.93.31351\",\n              \"templateHash\": \"532431910255747551\"\n            }\n          },\n          \"parameters\": {\n            \"location\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"[resourceGroup().location]\",\n              \"metadata\": {\n                \"description\": \"Azure region of the deployment\"\n              }\n            },\n            \"tags\": {\n              \"type\": \"object\",\n              \"defaultValue\": {},\n              \"metadata\": {\n                \"description\": \"Tags to add to the resources\"\n              }\n            },\n            \"aiServicesName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"AI services name\"\n              }\n            },\n            \"applicationInsightsName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Application Insights resource name\"\n              }\n            },\n            \"logAnalyticsWorkspaceName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Log Analytics Workspace resource name\"\n              }\n            },\n            \"containerRegistryName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Container registry name\"\n              }\n            },\n            \"keyvaultName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"The name of the Key Vault\"\n              }\n            },\n            \"storageName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Name of the storage account\"\n              }\n            },\n            \"storageSkuName\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"Standard_LRS\",\n              \"allowedValues\": [\n                \"Standard_LRS\",\n                \"Standard_ZRS\",\n                \"Standard_GRS\",\n                \"Standard_GZRS\",\n                \"Standard_RAGRS\",\n                \"Standard_RAGZRS\",\n                \"Premium_LRS\",\n                \"Premium_ZRS\"\n              ],\n              \"metadata\": {\n                \"description\": \"Storage SKU\"\n              }\n            }\n          },\n          \"variables\": {\n            \"containerRegistryNameCleaned\": \"[replace(parameters('containerRegistryName'), '-', '')]\",\n            \"storageNameCleaned\": \"[replace(parameters('storageName'), '-', '')]\"\n          },\n          \"resources\": [\n            {\n              \"type\": \"Microsoft.OperationalInsights/workspaces\",\n              \"apiVersion\": \"2023-09-01\",\n              \"name\": \"[parameters('logAnalyticsWorkspaceName')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"properties\": {\n                \"retentionInDays\": 30,\n                \"sku\": {\n                  \"name\": \"pergb2018\"\n                }\n              }\n            },\n            {\n              \"type\": \"Microsoft.Insights/components\",\n              \"apiVersion\": \"2020-02-02\",\n              \"name\": \"[parameters('applicationInsightsName')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"kind\": \"web\",\n              \"properties\": {\n                \"Application_Type\": \"web\",\n                \"DisableIpMasking\": false,\n                \"DisableLocalAuth\": false,\n                \"Flow_Type\": \"Bluefield\",\n                \"ForceCustomerStorageForProfiler\": false,\n                \"ImmediatePurgeDataOn30Days\": true,\n                \"IngestionMode\": \"LogAnalytics\",\n                \"publicNetworkAccessForIngestion\": \"Enabled\",\n                \"publicNetworkAccessForQuery\": \"Disabled\",\n                \"Request_Source\": \"rest\",\n                \"WorkspaceResourceId\": \"[resourceId('Microsoft.OperationalInsights/workspaces', parameters('logAnalyticsWorkspaceName'))]\"\n              },\n              \"dependsOn\": [\n                \"[resourceId('Microsoft.OperationalInsights/workspaces', parameters('logAnalyticsWorkspaceName'))]\"\n              ]\n            },\n            {\n              \"type\": \"Microsoft.ContainerRegistry/registries\",\n              \"apiVersion\": \"2023-01-01-preview\",\n              \"name\": \"[variables('containerRegistryNameCleaned')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"sku\": {\n                \"name\": \"Premium\"\n              },\n              \"properties\": {\n                \"adminUserEnabled\": true,\n                \"dataEndpointEnabled\": false,\n                \"networkRuleBypassOptions\": \"AzureServices\",\n                \"networkRuleSet\": {\n                  \"defaultAction\": \"Deny\"\n                },\n                \"policies\": {\n                  \"quarantinePolicy\": {\n                    \"status\": \"enabled\"\n                  },\n                  \"retentionPolicy\": {\n                    \"status\": \"enabled\",\n                    \"days\": 7\n                  },\n                  \"trustPolicy\": {\n                    \"status\": \"disabled\",\n                    \"type\": \"Notary\"\n                  }\n                },\n                \"publicNetworkAccess\": \"Disabled\",\n                \"zoneRedundancy\": \"Disabled\"\n              }\n            },\n            {\n              \"type\": \"Microsoft.KeyVault/vaults\",\n              \"apiVersion\": \"2023-07-01\",\n              \"name\": \"[parameters('keyvaultName')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"properties\": {\n                \"createMode\": \"default\",\n                \"enabledForDeployment\": false,\n                \"enabledForDiskEncryption\": false,\n                \"enabledForTemplateDeployment\": false,\n                \"enableSoftDelete\": true,\n                \"enableRbacAuthorization\": true,\n                \"enablePurgeProtection\": null,\n                \"networkAcls\": {\n                  \"bypass\": \"AzureServices\",\n                  \"defaultAction\": \"Deny\"\n                },\n                \"sku\": {\n                  \"family\": \"A\",\n                  \"name\": \"standard\"\n                },\n                \"softDeleteRetentionInDays\": 7,\n                \"tenantId\": \"[subscription().tenantId]\"\n              }\n            },\n            {\n              \"type\": \"Microsoft.CognitiveServices/accounts\",\n              \"apiVersion\": \"2023-05-01\",\n              \"name\": \"[parameters('aiServicesName')]\",\n              \"location\": \"[parameters('location')]\",\n              \"sku\": {\n                \"name\": \"S0\"\n              },\n              \"kind\": \"AIServices\",\n              \"properties\": {\n                \"apiProperties\": {\n                  \"statisticsEnabled\": false\n                }\n              }\n            },\n            {\n              \"type\": \"Microsoft.Storage/storageAccounts\",\n              \"apiVersion\": \"2023-01-01\",\n              \"name\": \"[variables('storageNameCleaned')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"sku\": {\n                \"name\": \"[parameters('storageSkuName')]\"\n              },\n              \"kind\": \"StorageV2\",\n              \"properties\": {\n                \"accessTier\": \"Hot\",\n                \"allowBlobPublicAccess\": true,\n                \"allowCrossTenantReplication\": false,\n                \"allowSharedKeyAccess\": true,\n                \"encryption\": {\n                  \"keySource\": \"Microsoft.Storage\",\n                  \"requireInfrastructureEncryption\": false,\n                  \"services\": {\n                    \"blob\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Account\"\n                    },\n                    \"file\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Account\"\n                    },\n                    \"queue\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Service\"\n                    },\n                    \"table\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Service\"\n                    }\n                  }\n                },\n                \"isHnsEnabled\": false,\n                \"isNfsV3Enabled\": false,\n                \"keyPolicy\": {\n                  \"keyExpirationPeriodInDays\": 7\n                },\n                \"largeFileSharesState\": \"Disabled\",\n                \"minimumTlsVersion\": \"TLS1_2\",\n                \"networkAcls\": {\n                  \"bypass\": \"AzureServices\",\n                  \"defaultAction\": \"Deny\"\n                },\n                \"publicNetworkAccess\": \"Enabled\",\n                \"supportsHttpsTrafficOnly\": true\n              }\n            }\n          ],\n          \"outputs\": {\n            \"aiservicesID\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.CognitiveServices/accounts', parameters('aiServicesName'))]\"\n            },\n            \"aiservicesTarget\": {\n              \"type\": \"string\",\n              \"value\": \"[reference(resourceId('Microsoft.CognitiveServices/accounts', parameters('aiServicesName')), '2023-05-01').endpoint]\"\n            },\n            \"storageId\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.Storage/storageAccounts', variables('storageNameCleaned'))]\"\n            },\n            \"keyvaultId\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.KeyVault/vaults', parameters('keyvaultName'))]\"\n            },\n            \"containerRegistryId\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.ContainerRegistry/registries', variables('containerRegistryNameCleaned'))]\"\n            },\n            \"applicationInsightsId\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.Insights/components', parameters('applicationInsightsName'))]\"\n            },\n            \"workspaceId\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.OperationalInsights/workspaces', parameters('logAnalyticsWorkspaceName'))]\"\n            }\n          }\n        }\n      }\n    },\n    {\n      \"type\": \"Microsoft.Resources/deployments\",\n      \"apiVersion\": \"2022-09-01\",\n      \"name\": \"[format('aisearch-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))]\",\n      \"properties\": {\n        \"expressionEvaluationOptions\": {\n          \"scope\": \"inner\"\n        },\n        \"mode\": \"Incremental\",\n        \"parameters\": {\n          \"aiSearchName\": {\n            \"value\": \"[format('srch-{0}-{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"dataStorageName\": {\n            \"value\": \"[format('st{0}data{1}', variables('name'), variables('uniqueSuffix'))]\"\n          }\n        },\n        \"template\": {\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n          \"contentVersion\": \"1.0.0.0\",\n          \"metadata\": {\n            \"_generator\": {\n              \"name\": \"bicep\",\n              \"version\": \"0.33.93.31351\",\n              \"templateHash\": \"13088422098924447675\"\n            }\n          },\n          \"parameters\": {\n            \"location\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"[resourceGroup().location]\",\n              \"metadata\": {\n                \"description\": \"Azure region of the deployment\"\n              }\n            },\n            \"tags\": {\n              \"type\": \"object\",\n              \"defaultValue\": {},\n              \"metadata\": {\n                \"description\": \"Tags to add to the resources\"\n              }\n            },\n            \"aiSearchName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Application Insights resource name\"\n              }\n            },\n            \"dataStorageName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Name of the storage account\"\n              }\n            },\n            \"storageSkuName\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"Standard_LRS\",\n              \"allowedValues\": [\n                \"Standard_LRS\",\n                \"Standard_ZRS\",\n                \"Standard_GRS\",\n                \"Standard_GZRS\",\n                \"Standard_RAGRS\",\n                \"Standard_RAGZRS\",\n                \"Premium_LRS\",\n                \"Premium_ZRS\"\n              ],\n              \"metadata\": {\n                \"description\": \"Storage SKU\"\n              }\n            }\n          },\n          \"variables\": {\n            \"dataStorageNameCleaned\": \"[replace(parameters('dataStorageName'), '-', '')]\"\n          },\n          \"resources\": [\n            {\n              \"type\": \"Microsoft.Search/searchServices\",\n              \"apiVersion\": \"2023-11-01\",\n              \"name\": \"[parameters('aiSearchName')]\",\n              \"location\": \"switzerlandnorth\",\n              \"tags\": \"[parameters('tags')]\",\n              \"sku\": {\n                \"name\": \"basic\"\n              },\n              \"properties\": {\n                \"replicaCount\": 3,\n                \"partitionCount\": 3\n              }\n            },\n            {\n              \"type\": \"Microsoft.Storage/storageAccounts\",\n              \"apiVersion\": \"2023-01-01\",\n              \"name\": \"[variables('dataStorageNameCleaned')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"sku\": {\n                \"name\": \"[parameters('storageSkuName')]\"\n              },\n              \"kind\": \"StorageV2\",\n              \"properties\": {\n                \"accessTier\": \"Hot\",\n                \"allowBlobPublicAccess\": true,\n                \"allowCrossTenantReplication\": false,\n                \"allowSharedKeyAccess\": true,\n                \"encryption\": {\n                  \"keySource\": \"Microsoft.Storage\",\n                  \"requireInfrastructureEncryption\": false,\n                  \"services\": {\n                    \"blob\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Account\"\n                    },\n                    \"file\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Account\"\n                    },\n                    \"queue\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Service\"\n                    },\n                    \"table\": {\n                      \"enabled\": true,\n                      \"keyType\": \"Service\"\n                    }\n                  }\n                },\n                \"isHnsEnabled\": false,\n                \"isNfsV3Enabled\": false,\n                \"keyPolicy\": {\n                  \"keyExpirationPeriodInDays\": 7\n                },\n                \"largeFileSharesState\": \"Disabled\",\n                \"minimumTlsVersion\": \"TLS1_2\",\n                \"networkAcls\": {\n                  \"bypass\": \"AzureServices\",\n                  \"defaultAction\": \"Allow\"\n                },\n                \"publicNetworkAccess\": \"Enabled\",\n                \"supportsHttpsTrafficOnly\": true\n              }\n            }\n          ]\n        }\n      }\n    },\n    {\n      \"type\": \"Microsoft.Resources/deployments\",\n      \"apiVersion\": \"2022-09-01\",\n      \"name\": \"[format('ai-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))]\",\n      \"properties\": {\n        \"expressionEvaluationOptions\": {\n          \"scope\": \"inner\"\n        },\n        \"mode\": \"Incremental\",\n        \"parameters\": {\n          \"aiHubName\": {\n            \"value\": \"[format('aih-{0}-{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"aiHubFriendlyName\": {\n            \"value\": \"[parameters('aiHubFriendlyName')]\"\n          },\n          \"aiHubDescription\": {\n            \"value\": \"[parameters('aiHubDescription')]\"\n          },\n          \"location\": {\n            \"value\": \"[parameters('location')]\"\n          },\n          \"tags\": {\n            \"value\": \"[parameters('tags')]\"\n          },\n          \"aiServicesId\": {\n            \"value\": \"[reference(resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))), '2022-09-01').outputs.aiservicesID.value]\"\n          },\n          \"aiServicesTarget\": {\n            \"value\": \"[reference(resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))), '2022-09-01').outputs.aiservicesTarget.value]\"\n          },\n          \"applicationInsightsId\": {\n            \"value\": \"[reference(resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))), '2022-09-01').outputs.applicationInsightsId.value]\"\n          },\n          \"containerRegistryId\": {\n            \"value\": \"[reference(resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))), '2022-09-01').outputs.containerRegistryId.value]\"\n          },\n          \"keyVaultId\": {\n            \"value\": \"[reference(resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))), '2022-09-01').outputs.keyvaultId.value]\"\n          },\n          \"storageAccountId\": {\n            \"value\": \"[reference(resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))), '2022-09-01').outputs.storageId.value]\"\n          }\n        },\n        \"template\": {\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n          \"contentVersion\": \"1.0.0.0\",\n          \"metadata\": {\n            \"_generator\": {\n              \"name\": \"bicep\",\n              \"version\": \"0.33.93.31351\",\n              \"templateHash\": \"1190368815926803656\"\n            }\n          },\n          \"parameters\": {\n            \"location\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Azure region of the deployment\"\n              }\n            },\n            \"tags\": {\n              \"type\": \"object\",\n              \"metadata\": {\n                \"description\": \"Tags to add to the resources\"\n              }\n            },\n            \"aiHubName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"AI hub name\"\n              }\n            },\n            \"aiHubFriendlyName\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"[parameters('aiHubName')]\",\n              \"metadata\": {\n                \"description\": \"AI hub display name\"\n              }\n            },\n            \"aiHubDescription\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"AI hub description\"\n              }\n            },\n            \"applicationInsightsId\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Resource ID of the application insights resource for storing diagnostics logs\"\n              }\n            },\n            \"containerRegistryId\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Resource ID of the container registry resource for storing docker images\"\n              }\n            },\n            \"keyVaultId\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Resource ID of the key vault resource for storing connection strings\"\n              }\n            },\n            \"storageAccountId\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Resource ID of the storage account resource for storing experimentation outputs\"\n              }\n            },\n            \"aiServicesId\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Resource ID of the AI Services resource\"\n              }\n            },\n            \"aiServicesTarget\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Resource ID of the AI Services endpoint\"\n              }\n            }\n          },\n          \"resources\": [\n            {\n              \"type\": \"Microsoft.MachineLearningServices/workspaces/connections\",\n              \"apiVersion\": \"2024-04-01\",\n              \"name\": \"[format('{0}/{1}', parameters('aiHubName'), format('{0}-connection-AzureOpenAI', parameters('aiHubName')))]\",\n              \"properties\": {\n                \"category\": \"AzureOpenAI\",\n                \"target\": \"[parameters('aiServicesTarget')]\",\n                \"authType\": \"ApiKey\",\n                \"isSharedToAll\": true,\n                \"credentials\": {\n                  \"key\": \"[format('{0}', listKeys(parameters('aiServicesId'), '2023-05-01').key1)]\"\n                },\n                \"metadata\": {\n                  \"ApiType\": \"Azure\",\n                  \"ResourceId\": \"[parameters('aiServicesId')]\"\n                }\n              },\n              \"dependsOn\": [\n                \"[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('aiHubName'))]\"\n              ]\n            },\n            {\n              \"type\": \"Microsoft.MachineLearningServices/workspaces\",\n              \"apiVersion\": \"2024-04-01\",\n              \"name\": \"[parameters('aiHubName')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"identity\": {\n                \"type\": \"SystemAssigned\"\n              },\n              \"properties\": {\n                \"friendlyName\": \"[parameters('aiHubFriendlyName')]\",\n                \"description\": \"[parameters('aiHubDescription')]\",\n                \"keyVault\": \"[parameters('keyVaultId')]\",\n                \"storageAccount\": \"[parameters('storageAccountId')]\",\n                \"applicationInsights\": \"[parameters('applicationInsightsId')]\",\n                \"containerRegistry\": \"[parameters('containerRegistryId')]\"\n              },\n              \"kind\": \"hub\"\n            }\n          ],\n          \"outputs\": {\n            \"aiHubID\": {\n              \"type\": \"string\",\n              \"value\": \"[resourceId('Microsoft.MachineLearningServices/workspaces', parameters('aiHubName'))]\"\n            }\n          }\n        }\n      },\n      \"dependsOn\": [\n        \"[resourceId('Microsoft.Resources/deployments', format('dependencies-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix')))]\"\n      ]\n    },\n    {\n      \"type\": \"Microsoft.Resources/deployments\",\n      \"apiVersion\": \"2022-09-01\",\n      \"name\": \"[format('docintelligence-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))]\",\n      \"properties\": {\n        \"expressionEvaluationOptions\": {\n          \"scope\": \"inner\"\n        },\n        \"mode\": \"Incremental\",\n        \"parameters\": {\n          \"aiServicesDocIntelligence\": {\n            \"value\": \"[format('doci{0}{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"location\": {\n            \"value\": \"[parameters('location')]\"\n          },\n          \"tags\": {\n            \"value\": \"[parameters('tags')]\"\n          }\n        },\n        \"template\": {\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n          \"contentVersion\": \"1.0.0.0\",\n          \"metadata\": {\n            \"_generator\": {\n              \"name\": \"bicep\",\n              \"version\": \"0.33.93.31351\",\n              \"templateHash\": \"2904292615035552260\"\n            }\n          },\n          \"parameters\": {\n            \"aiServicesDocIntelligence\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"Module to deploy Azure AI Services - Document Intelligence\"\n              }\n            },\n            \"location\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"westeurope\",\n              \"metadata\": {\n                \"description\": \"Azure region of the deployment\"\n              }\n            },\n            \"tags\": {\n              \"type\": \"object\",\n              \"defaultValue\": {},\n              \"metadata\": {\n                \"description\": \"The tags to be applied to all resources\"\n              }\n            },\n            \"sku\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"S0\",\n              \"allowedValues\": [\n                \"S0\"\n              ],\n              \"metadata\": {\n                \"description\": \"SKU of the Document Intelligence service\"\n              }\n            }\n          },\n          \"resources\": [\n            {\n              \"type\": \"Microsoft.CognitiveServices/accounts\",\n              \"apiVersion\": \"2023-05-01\",\n              \"name\": \"[parameters('aiServicesDocIntelligence')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"sku\": {\n                \"name\": \"[parameters('sku')]\"\n              },\n              \"kind\": \"FormRecognizer\",\n              \"properties\": {\n                \"apiProperties\": {\n                  \"statisticsEnabled\": false\n                }\n              }\n            }\n          ]\n        }\n      }\n    },\n    {\n      \"type\": \"Microsoft.Resources/deployments\",\n      \"apiVersion\": \"2022-09-01\",\n      \"name\": \"[format('sql-{0}-{1}-deployment', variables('name'), variables('uniqueSuffix'))]\",\n      \"properties\": {\n        \"expressionEvaluationOptions\": {\n          \"scope\": \"inner\"\n        },\n        \"mode\": \"Incremental\",\n        \"parameters\": {\n          \"serverName\": {\n            \"value\": \"[format('sql{0}{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"sqlDBName\": {\n            \"value\": \"[format('sqldb{0}{1}', variables('name'), variables('uniqueSuffix'))]\"\n          },\n          \"location\": {\n            \"value\": \"[parameters('location')]\"\n          },\n          \"tags\": {\n            \"value\": \"[parameters('tags')]\"\n          },\n          \"administratorLogin\": {\n            \"value\": \"[parameters('administratorLogin')]\"\n          },\n          \"administratorLoginPassword\": {\n            \"value\": \"[parameters('administratorLoginPassword')]\"\n          }\n        },\n        \"template\": {\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n          \"contentVersion\": \"1.0.0.0\",\n          \"metadata\": {\n            \"_generator\": {\n              \"name\": \"bicep\",\n              \"version\": \"0.33.93.31351\",\n              \"templateHash\": \"4410494374086102500\"\n            }\n          },\n          \"parameters\": {\n            \"serverName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"The name of the SQL logical server.\"\n              }\n            },\n            \"sqlDBName\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"The name of the SQL Database.\"\n              }\n            },\n            \"location\": {\n              \"type\": \"string\",\n              \"defaultValue\": \"[resourceGroup().location]\",\n              \"metadata\": {\n                \"description\": \"Location for all resources.\"\n              }\n            },\n            \"tags\": {\n              \"type\": \"object\",\n              \"defaultValue\": {},\n              \"metadata\": {\n                \"description\": \"Set of tags to apply to all resources.\"\n              }\n            },\n            \"administratorLogin\": {\n              \"type\": \"string\",\n              \"metadata\": {\n                \"description\": \"The administrator username of the SQL logical server.\"\n              }\n            },\n            \"administratorLoginPassword\": {\n              \"type\": \"securestring\",\n              \"metadata\": {\n                \"description\": \"The administrator password of the SQL logical server.\"\n              }\n            }\n          },\n          \"resources\": [\n            {\n              \"type\": \"Microsoft.Sql/servers\",\n              \"apiVersion\": \"2022-05-01-preview\",\n              \"name\": \"[parameters('serverName')]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"properties\": {\n                \"administratorLogin\": \"[parameters('administratorLogin')]\",\n                \"administratorLoginPassword\": \"[parameters('administratorLoginPassword')]\"\n              }\n            },\n            {\n              \"type\": \"Microsoft.Sql/servers/databases\",\n              \"apiVersion\": \"2023-05-01-preview\",\n              \"name\": \"[format('{0}/{1}', parameters('serverName'), parameters('sqlDBName'))]\",\n              \"location\": \"[parameters('location')]\",\n              \"tags\": \"[parameters('tags')]\",\n              \"sku\": {\n                \"name\": \"Standard\",\n                \"tier\": \"Standard\",\n                \"capacity\": 50\n              },\n              \"dependsOn\": [\n                \"[resourceId('Microsoft.Sql/servers', parameters('serverName'))]\"\n              ]\n            }\n          ]\n        }\n      }\n    }\n  ]\n}", "parameters": {"aiHubName": {"value": "aiHubDoero2"}, "administratorLoginPassword": {"value": "asdasdasdasd"}}, "mode": "Incremental"}}
DEBUG: cli.azure.cli.command_modules.resource.custom: HTTP content is being overwritten to preserve template whitepace accurately. The request body logging may not accurately represent this.
DEBUG: urllib3.connectionpool: Starting new HTTPS connection (1): management.azure.com:443
DEBUG: urllib3.connectionpool: https://management.azure.com:443 "POST /subscriptions/3951571d-4b73-46d7-b89e-84c2821cb8c5/resourcegroups/itsarag2/providers/Microsoft.Resources/deployments/main/validate?api-version=2022-09-01 HTTP/1.1" 400 506
DEBUG: cli.azure.cli.core.sdk.policies: Response status: 400
DEBUG: cli.azure.cli.core.sdk.policies: Response headers:
DEBUG: cli.azure.cli.core.sdk.policies:     'Cache-Control': 'no-cache'
DEBUG: cli.azure.cli.core.sdk.policies:     'Pragma': 'no-cache'
DEBUG: cli.azure.cli.core.sdk.policies:     'Content-Length': '506'
DEBUG: cli.azure.cli.core.sdk.policies:     'Content-Type': 'application/json; charset=utf-8'
DEBUG: cli.azure.cli.core.sdk.policies:     'Expires': '-1'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-failure-cause': 'gateway'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-ratelimit-remaining-subscription-writes': '199'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-ratelimit-remaining-subscription-global-writes': '2999'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-request-id': '268bac69-2369-4c8b-ae71-cb05df206b49'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-correlation-request-id': '268bac69-2369-4c8b-ae71-cb05df206b49'
DEBUG: cli.azure.cli.core.sdk.policies:     'x-ms-routing-request-id': 'WESTEUROPE:20250522T165803Z:268bac69-2369-4c8b-ae71-cb05df206b49'
DEBUG: cli.azure.cli.core.sdk.policies:     'Strict-Transport-Security': 'max-age=31536000; includeSubDomains'
DEBUG: cli.azure.cli.core.sdk.policies:     'X-Content-Type-Options': 'nosniff'
DEBUG: cli.azure.cli.core.sdk.policies:     'X-Cache': 'CONFIG_NOCACHE'
DEBUG: cli.azure.cli.core.sdk.policies:     'X-MSEdge-Ref': 'Ref A: FD7834875DF2499988A0E75BCFA3AA26 Ref B: AMS231032608051 Ref C: 2025-05-22T16:58:01Z'
DEBUG: cli.azure.cli.core.sdk.policies:     'Date': 'Thu, 22 May 2025 16:58:02 GMT'
DEBUG: cli.azure.cli.core.sdk.policies: Response content:
DEBUG: cli.azure.cli.core.sdk.policies: Body is streamable
DEBUG: cli.azure.cli.core.azclierror: Traceback (most recent call last):
  File "/opt/az/lib/python3.12/site-packages/azure/core/polling/base_polling.py", line 606, in initialize
    _raise_if_bad_http_status_and_method(self._initial_response.http_response)
  File "/opt/az/lib/python3.12/site-packages/azure/core/polling/base_polling.py", line 156, in _raise_if_bad_http_status_and_method
    raise BadStatus("Invalid return status {!r} for {!r} operation".format(code, response.request.method))
azure.core.polling.base_polling.BadStatus: Invalid return status 400 for 'POST' operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/az/lib/python3.12/site-packages/azure/cli/command_modules/resource/custom.py", line 649, in _deploy_arm_template_at_resource_group
    validation_poller = mgmt_client.begin_validate(resource_group_name, deployment_name, deployment)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/core/tracing/decorator.py", line 94, in wrapper_use_tracer
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/mgmt/resource/resources/v2022_09_01/operations/_operations.py", line 7438, in begin_validate
    return LROPoller[_models.DeploymentValidateResult](
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/typing.py", line 1184, in __call__
    result = self.__origin__(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/core/polling/_poller.py", line 164, in __init__
    self._polling_method.initialize(client, initial_response, deserialization_callback)
  File "/opt/az/lib/python3.12/site-packages/azure/core/polling/base_polling.py", line 611, in initialize
    raise HttpResponseError(response=initial_response.http_response, error=err) from err
azure.core.exceptions.HttpResponseError: (InvalidTemplateDeployment) The template deployment 'main' is not valid according to the validation procedure. The tracking id is '268bac69-2369-4c8b-ae71-cb05df206b49'. See inner errors for details.
Code: InvalidTemplateDeployment
Message: The template deployment 'main' is not valid according to the validation procedure. The tracking id is '268bac69-2369-4c8b-ae71-cb05df206b49'. See inner errors for details.
Exception Details:	(ApiPropertiesInvalid) The given 'apiProperties' 'statisticsEnabled' is invalid. Validation errors: Property 'statisticsEnabled' has not been defined and the schema does not allow additional properties. Path 'apiProperties.statisticsEnabled'.
	Code: ApiPropertiesInvalid
	Message: The given 'apiProperties' 'statisticsEnabled' is invalid. Validation errors: Property 'statisticsEnabled' has not been defined and the schema does not allow additional properties. Path 'apiProperties.statisticsEnabled'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/__init__.py", line 703, in _run_job
    result = cmd_copy(params)
             ^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/__init__.py", line 336, in __call__
    return self.handler(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/command_operation.py", line 120, in handler
    return op(**command_args)
           ^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/command_modules/resource/custom.py", line 606, in deploy_arm_template_at_resource_group
    return _deploy_arm_template_at_resource_group(cmd=cmd,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/command_modules/resource/custom.py", line 651, in _deploy_arm_template_at_resource_group
    err_message = _build_http_response_error_message(err)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/command_modules/resource/_utils.py", line 90, in _build_http_response_error_message
    error_txt = http_error.response.internal_response.text
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/requests/models.py", line 926, in text
    if not self.content:
           ^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/requests/models.py", line 897, in content
    raise RuntimeError("The content for this response was already consumed")
RuntimeError: The content for this response was already consumed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/arm.py", line 109, in handle_template_based_exception
    raise CLIError(ex.inner_exception.error.message)
                   ^^^^^^^^^^^^^^^^^^
AttributeError: 'RuntimeError' object has no attribute 'inner_exception'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/az/lib/python3.12/site-packages/knack/cli.py", line 233, in invoke
    cmd_result = self.invocation.execute(args)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/__init__.py", line 666, in execute
    raise ex
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/__init__.py", line 734, in _run_jobs_serially
    results.append(self._run_job(expanded_arg, cmd_copy))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/__init__.py", line 726, in _run_job
    return cmd_copy.exception_handler(ex)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/az/lib/python3.12/site-packages/azure/cli/core/commands/arm.py", line 114, in handle_template_based_exception
    raise CLIError(ex)
knack.util.CLIError: The content for this response was already consumed

ERROR: cli.azure.cli.core.azclierror: The content for this response was already consumed
ERROR: az_command_data_logger: The content for this response was already consumed
DEBUG: cli.knack.cli: Event: Cli.PostExecute [<function AzCliLogging.deinit_cmd_metadata_logging at 0x7613a036c220>]
INFO: az_command_data_logger: exit code: 1
INFO: cli.__main__: Command ran in 10.024 seconds (init: 0.116, invoke: 9.908)
INFO: telemetry.main: Begin splitting cli events and extra events, total events: 1
INFO: telemetry.client: Accumulated 0 events. Flush the clients.
INFO: telemetry.main: Finish splitting cli events and extra events, cli events: 1
INFO: telemetry.save: Save telemetry record of length 4116 in cache file under /home/vscode/.azure/telemetry/20250522165803265
INFO: telemetry.main: Begin creating telemetry upload process.
INFO: telemetry.process: Creating upload process: "/opt/az/bin/python3 /opt/az/lib/python3.12/site-packages/azure/cli/telemetry/__init__.py /home/vscode/.azure /home/vscode/.azure/telemetry/20250522165803265"
INFO: telemetry.process: Return from creating process 7519
INFO: telemetry.main: Finish creating telemetry upload process.
